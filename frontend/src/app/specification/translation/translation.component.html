@if (mqttdiscoverylanguage != 'en') {
  <mat-expansion-panel>
  <mat-expansion-panel-header>
    <mat-panel-title>
      <p [ngClass]="{ errorText: !translationFormGroup.valid }">Translation({{ getLanguageName(translationLanguage) }})</p>
    </mat-panel-title>
  </mat-expansion-panel-header>

  <div class="width300pt">
    <mat-slide-toggle class="width50 toggleField" (change)="onLanguageToggle()">
      Switch Languages: {{ getLanguageName(originalLanguage) + '->' + getLanguageName(translationLanguage) }}</mat-slide-toggle
    >
    <form [formGroup]="translationFormGroup">
      @if (!translationFormGroup.valid) {
        <button mat-button (click)="googleTranslate()" type="button" [disabled]="">
          Google Translate{{
            supportsGoogleTranslate
              ? ''
              : '
          URL'
          }}
        </button>
        @if (!supportsGoogleTranslate) {
          <mat-form-field>
            <textarea
              matInput
              placeholder="Paste Translated Texts here "
              cdkTextareaAutosize
              cdkAutosizeMinRows="3"
              (input)="translatedValuesPasted($event)"
            ></textarea>
          </mat-form-field>
        }
      }
      <div class="full-width flexcolumns">
        <h2>Specification</h2>
        <mat-form-field class="width300pt">
          <mat-label>{{ getOriginalText('name') }}({{ getLanguageName(translationLanguage) }})</mat-label>
          <input matInput class="width250pt" formControlName="name" (change)="changeText('name')" />
        </mat-form-field>
        <h2>Entities</h2>
        <div class="scrollable flexcolumns">
          @for (key of getAllKeys(); track $index) {
            <mat-form-field class="width300pt">
              <mat-label>{{ getOriginalText(key) }}({{ getLanguageName(translationLanguage) }})</mat-label>
              <input matInput [formControlName]="key" (change)="changeText(key)" />
            </mat-form-field>
            @for (optionKey of getOptionKeys(key); track $index) {
              <mat-form-field class="width250pt margin">
                <mat-label>{{ getOriginalText(optionKey) }}</mat-label>
                <input matInput [formControlName]="optionKey" (change)="changeText(optionKey)" />
              </mat-form-field>
            }
          }
        </div>
      </div>
    </form>
  </div>
  </mat-expansion-panel>
}
